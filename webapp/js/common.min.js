!function(t, e) {
    var n, o = t.jQuery;
    o.throttle = n = function(t, n, i, a) {
        function r() {
            function o() {
                c = +new Date(), i.apply(l, d);
            }
            function r() {
                s = e;
            }
            var l = this, u = +new Date() - c, d = arguments;
            a && !s && o(), s && clearTimeout(s), a === e && u > t ? o() : n !== !0 && (s = setTimeout(a ? r : o, a === e ? t - u : t));
        }
        var s, c = 0;
        return "boolean" != typeof n && (a = i, i = n, n = e), o.guid && (r.guid = i.guid = i.guid || o.guid++), 
        r;
    }, o.debounce = function(t, o, i) {
        return i === e ? n(t, o, !1) : n(t, i, o !== !1);
    };
}(this), function(t) {
    "use strict";
    "function" == typeof define && define.amd ? define([ "jquery" ], t) : "undefined" != typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery);
}(function(t) {
    "use strict";
    function e(e) {
        return !e.nodeName || -1 !== t.inArray(e.nodeName.toLowerCase(), [ "iframe", "#document", "html", "body" ]);
    }
    function n(e) {
        return t.isFunction(e) || t.isPlainObject(e) ? e : {
            top: e,
            left: e
        };
    }
    var o = t.scrollTo = function(e, n, o) {
        return t(window).scrollTo(e, n, o);
    };
    return o.defaults = {
        axis: "xy",
        duration: 0,
        limit: !0
    }, t.fn.scrollTo = function(i, a, r) {
        "object" == typeof a && (r = a, a = 0), "function" == typeof r && (r = {
            onAfter: r
        }), "max" === i && (i = 9e9), r = t.extend({}, o.defaults, r), a = a || r.duration;
        var s = r.queue && 1 < r.axis.length;
        return s && (a /= 2), r.offset = n(r.offset), r.over = n(r.over), this.each(function() {
            function c(e) {
                var n = t.extend({}, r, {
                    queue: !0,
                    duration: a,
                    complete: e && function() {
                        e.call(d, f, r);
                    }
                });
                p.animate(h, n);
            }
            if (null !== i) {
                var l, u = e(this), d = u ? this.contentWindow || window : this, p = t(d), f = i, h = {};
                switch (typeof f) {
                  case "number":
                  case "string":
                    if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)) {
                        f = n(f);
                        break;
                    }
                    if (f = u ? t(f) : t(f, d), !f.length) return;

                  case "object":
                    (f.is || f.style) && (l = (f = t(f)).offset());
                }
                var m = t.isFunction(r.offset) && r.offset(d, f) || r.offset;
                t.each(r.axis.split(""), function(t, e) {
                    var n = "x" === e ? "Left" : "Top", i = n.toLowerCase(), a = "scroll" + n, g = p[a](), w = o.max(d, e);
                    l ? (h[a] = l[i] + (u ? 0 : g - p.offset()[i]), r.margin && (h[a] -= parseInt(f.css("margin" + n), 10) || 0, 
                    h[a] -= parseInt(f.css("border" + n + "Width"), 10) || 0), h[a] += m[i] || 0, r.over[i] && (h[a] += f["x" === e ? "width" : "height"]() * r.over[i])) : (n = f[i], 
                    h[a] = n.slice && "%" === n.slice(-1) ? parseFloat(n) / 100 * w : n), r.limit && /^\d+$/.test(h[a]) && (h[a] = 0 >= h[a] ? 0 : Math.min(h[a], w)), 
                    !t && 1 < r.axis.length && (g === h[a] ? h = {} : s && (c(r.onAfterFirst), h = {}));
                }), c(r.onAfter);
            }
        });
    }, o.max = function(n, o) {
        var i = "x" === o ? "Width" : "Height", a = "scroll" + i;
        if (!e(n)) return n[a] - t(n)[i.toLowerCase()]();
        var i = "client" + i, r = n.ownerDocument || n.document, s = r.documentElement, r = r.body;
        return Math.max(s[a], r[a]) - Math.min(s[i], r[i]);
    }, t.Tween.propHooks.scrollLeft = t.Tween.propHooks.scrollTop = {
        get: function(e) {
            return t(e.elem)[e.prop]();
        },
        set: function(e) {
            var n = this.get(e);
            if (e.options.interrupt && e._last && e._last !== n) return t(e.elem).stop();
            var o = Math.round(e.now);
            n !== o && (t(e.elem)[e.prop](o), e._last = this.get(e));
        }
    }, o;
}), function(t) {
    "use strict";
    var e = {};
    e.signup = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/registration.htm",
            data: e,
            dataType: "JSON"
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {});
    }, e.signupPartnerReseller = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/affiliate/reseller_registration.htm",
            data: e,
            dataType: "JSON",
            headers: {
                "Wrike-Client-Id": +new Date()
            }
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {});
    }, e.signupPartnerAffiliate = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/affiliate/registration.htm",
            data: e,
            dataType: "JSON",
            headers: {
                "Wrike-Client-Id": +new Date()
            }
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {});
    }, e.signupPartnerStub = function(t, e, n, o) {
        var i = {
            success: !1,
            errors: {
                agreement_error: "*",
                address_error: "Address is invalid",
                paypal_error: "Paypal email is invalid",
                password_error: "Password is invalid",
                last_name_error: "Last name is invalid",
                email_error: "Email is invalid",
                first_name_error: "First name is invalid"
            },
            redirect: null
        }, i = {
            success: !1,
            errors: {
                phone_error: "Phone is invalid"
            },
            redirect: null
        };
        e(i), o();
    }, e.resendConfirmation = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/ajaxresendconfirmation.htm?ajax=true",
            data: e,
            dataType: "JSON"
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {});
    }, e.signupEmailOnly = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/email_only_registration.htm",
            data: e,
            dataType: "JSON"
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {}), 
        console.log("https://" + t.location.host + "/email_only_registration.htm");
    }, e.signupEbook = function(e, n, o, i) {
        $.ajax({
            type: "POST",
            url: "https://" + t.location.host + "/site/ebook_registration",
            data: e,
            dataType: "JSON"
        }).success(n || function() {}).error(o || function() {}).complete(i || function() {});
    }, t.ApiService = e;
}(window), function() {
    "use strict";
    function t(t) {
        d.push(t), 1 == d.length && u();
    }
    function e() {
        for (;d.length; ) d[0](), d.shift();
    }
    function n(t) {
        this.a = p, this.b = void 0, this.f = [];
        var e = this;
        try {
            t(function(t) {
                a(e, t);
            }, function(t) {
                r(e, t);
            });
        } catch (n) {
            r(e, n);
        }
    }
    function o(t) {
        return new n(function(e, n) {
            n(t);
        });
    }
    function i(t) {
        return new n(function(e) {
            e(t);
        });
    }
    function a(t, e) {
        if (t.a == p) {
            if (e == t) throw new TypeError();
            var n = !1;
            try {
                var o = e && e.then;
                if (null != e && "object" == typeof e && "function" == typeof o) return void o.call(e, function(e) {
                    n || a(t, e), n = !0;
                }, function(e) {
                    n || r(t, e), n = !0;
                });
            } catch (i) {
                return void (n || r(t, i));
            }
            t.a = 0, t.b = e, s(t);
        }
    }
    function r(t, e) {
        if (t.a == p) {
            if (e == t) throw new TypeError();
            t.a = 1, t.b = e, s(t);
        }
    }
    function s(e) {
        t(function() {
            if (e.a != p) for (;e.f.length; ) {
                var t = e.f.shift(), n = t[0], o = t[1], i = t[2], t = t[3];
                try {
                    0 == e.a ? i("function" == typeof n ? n.call(void 0, e.b) : e.b) : 1 == e.a && ("function" == typeof o ? i(o.call(void 0, e.b)) : t(e.b));
                } catch (a) {
                    t(a);
                }
            }
        });
    }
    function c(t) {
        return new n(function(e, n) {
            function o(n) {
                return function(o) {
                    r[n] = o, a += 1, a == t.length && e(r);
                };
            }
            var a = 0, r = [];
            0 == t.length && e(r);
            for (var s = 0; s < t.length; s += 1) i(t[s]).c(o(s), n);
        });
    }
    function l(t) {
        return new n(function(e, n) {
            for (var o = 0; o < t.length; o += 1) i(t[o]).c(e, n);
        });
    }
    var u, d = [];
    u = function() {
        setTimeout(e);
    };
    var p = 2;
    n.prototype.g = function(t) {
        return this.c(void 0, t);
    }, n.prototype.c = function(t, e) {
        var o = this;
        return new n(function(n, i) {
            o.f.push([ t, e, n, i ]), s(o);
        });
    }, window.Promise || (window.Promise = n, window.Promise.resolve = i, window.Promise.reject = o, 
    window.Promise.race = l, window.Promise.all = c, window.Promise.prototype.then = n.prototype.c, 
    window.Promise.prototype["catch"] = n.prototype.g);
}(), function() {
    function t(t, e) {
        l ? t.addEventListener("scroll", e, !1) : t.attachEvent("scroll", e);
    }
    function e(t) {
        document.body ? t() : l ? document.addEventListener("DOMContentLoaded", t) : document.attachEvent("onreadystatechange", function() {
            "interactive" != document.readyState && "complete" != document.readyState || t();
        });
    }
    function n(t) {
        this.a = document.createElement("div"), this.a.setAttribute("aria-hidden", "true"), 
        this.a.appendChild(document.createTextNode(t)), this.b = document.createElement("span"), 
        this.c = document.createElement("span"), this.h = document.createElement("span"), 
        this.f = document.createElement("span"), this.g = -1, this.b.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", 
        this.c.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", 
        this.f.style.cssText = "max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;", 
        this.h.style.cssText = "display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;", 
        this.b.appendChild(this.h), this.c.appendChild(this.f), this.a.appendChild(this.b), 
        this.a.appendChild(this.c);
    }
    function o(t, e) {
        t.a.style.cssText = "max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:" + e + ";";
    }
    function i(t) {
        var e = t.a.offsetWidth, n = e + 100;
        return t.f.style.width = n + "px", t.c.scrollLeft = n, t.b.scrollLeft = t.b.scrollWidth + 100, 
        t.g !== e ? (t.g = e, !0) : !1;
    }
    function a(e, n) {
        function o() {
            var t = a;
            i(t) && null !== t.a.parentNode && n(t.g);
        }
        var a = e;
        t(e.b, o), t(e.c, o), i(e);
    }
    function r(t, e) {
        var n = e || {};
        this.family = t, this.style = n.style || "normal", this.weight = n.weight || "normal", 
        this.stretch = n.stretch || "normal";
    }
    function s() {
        if (null === d) {
            var t = document.createElement("div");
            try {
                t.style.font = "condensed 100px sans-serif";
            } catch (e) {}
            d = "" !== t.style.font;
        }
        return d;
    }
    function c(t, e) {
        return [ t.style, t.weight, s() ? t.stretch : "", "100px", e ].join(" ");
    }
    var l = !!document.addEventListener, u = null, d = null, p = !!window.FontFace;
    r.prototype.load = function(t, i) {
        var r = this, s = t || "BESbswy", l = i || 3e3, d = new Date().getTime();
        return new Promise(function(t, i) {
            if (p) {
                var f = new Promise(function(t, e) {
                    function n() {
                        new Date().getTime() - d >= l ? e() : document.fonts.load(c(r, r.family), s).then(function(e) {
                            1 <= e.length ? t() : setTimeout(n, 25);
                        }, function() {
                            e();
                        });
                    }
                    n();
                }), h = new Promise(function(t, e) {
                    setTimeout(e, l);
                });
                Promise.race([ h, f ]).then(function() {
                    t(r);
                }, function() {
                    i(r);
                });
            } else e(function() {
                function e() {
                    var e;
                    (e = -1 != g && -1 != w || -1 != g && -1 != v || -1 != w && -1 != v) && ((e = g != w && g != v && w != v) || (null === u && (e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent), 
                    u = !!e && (536 > parseInt(e[1], 10) || 536 === parseInt(e[1], 10) && 11 >= parseInt(e[2], 10))), 
                    e = u && (g == y && w == y && v == y || g == b && w == b && v == b || g == _ && w == _ && v == _)), 
                    e = !e), e && (null !== T.parentNode && T.parentNode.removeChild(T), clearTimeout(x), 
                    t(r));
                }
                function p() {
                    if (new Date().getTime() - d >= l) null !== T.parentNode && T.parentNode.removeChild(T), 
                    i(r); else {
                        var t = document.hidden;
                        (!0 === t || void 0 === t) && (g = f.a.offsetWidth, w = h.a.offsetWidth, v = m.a.offsetWidth, 
                        e()), x = setTimeout(p, 50);
                    }
                }
                var f = new n(s), h = new n(s), m = new n(s), g = -1, w = -1, v = -1, y = -1, b = -1, _ = -1, T = document.createElement("div"), x = 0;
                T.dir = "ltr", o(f, c(r, "sans-serif")), o(h, c(r, "serif")), o(m, c(r, "monospace")), 
                T.appendChild(f.a), T.appendChild(h.a), T.appendChild(m.a), document.body.appendChild(T), 
                y = f.a.offsetWidth, b = h.a.offsetWidth, _ = m.a.offsetWidth, p(), a(f, function(t) {
                    g = t, e();
                }), o(f, c(r, '"' + r.family + '",sans-serif')), a(h, function(t) {
                    w = t, e();
                }), o(h, c(r, '"' + r.family + '",serif')), a(m, function(t) {
                    v = t, e();
                }), o(m, c(r, '"' + r.family + '",monospace'));
            });
        });
    }, window.FontFaceObserver = r, window.FontFaceObserver.prototype.check = window.FontFaceObserver.prototype.load = r.prototype.load, 
    "undefined" != typeof module && (module.exports = window.FontFaceObserver);
}(), function() {
    function t(t) {
        t.attr("submitting", !0), t.find(".wg-input")[0].disabled = "disabled", t.find(".wg-btn").wgInstance().loading();
    }
    function e(t) {
        var e = document.createElement("a");
        e.href = t;
        var n = e.search.substr(1), o = n.split("&"), i = "";
        return $(o).each(function(t, e) {
            e = e.split("="), i += '<input type="hidden" name="' + decodeURIComponent(e[0]) + '" value="' + decodeURIComponent(e[1]) + '">';
        }), i;
    }
    function n(t) {
        t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var e = new RegExp("[\\?&]" + t + "=([^&#]*)"), n = e.exec(location.search);
        return null === n ? "" : decodeURIComponent(n[1].replace(/\+/g, " "));
    }
    function o(t, o) {
        var i = n("utm_campaign");
        i = i ? "?utm_campaign=" + i : "";
        var a, r = $("body"), s = "https://" + window.location.host + window.location.pathname + i + "#" + t.data("hash"), c = "en" === window.pageParams.locale ? "" : "/" + window.pageParams.locale, l = {
            email: o,
            license_id: 49,
            agreement: !0,
            short_form: !0,
            external: !0,
            locale: window.pageParams.locale,
            isAjax: !0,
            email_only_form: !0,
            source_url: s
        };
        $.ajax({
            type: "POST",
            url: "https://" + window.location.host + "/registration.htm",
            data: l,
            dataType: "JSON"
        }).success(function(t) {
            t.OK ? (a = $("<form/>", {
                action: c + "/resend/",
                method: "POST",
                style: "display: none"
            }).append('<input type="hidden" name="email" value="' + o + '">').append('<input type="hidden" name="thankpage" value="a">'), 
            t.surveyEndpoint && a.append(e(t.surveyEndpoint)), a.appendTo(r).trigger("submit")) : a = $("<form/>", {
                action: "/login.jsp",
                method: "POST",
                style: "display: none"
            }).append('<input type="text" name="login_email" value="' + o + '">').appendTo(r).trigger("submit");
        }).error(function() {
            alert("Form is not working, please write to us support@team.globetrade.com");
        });
    }
    var i = [ "/price-va/", "/price-vb/", "/price-vc/", "/price/", "/es/price/", "/fr/price/", "/ru/price/", "/tr/price/", "/pt-br/price/", "/zh-CN/price/", "/de/price/", "/it/price/", "/ja/price/", "/declined-invitation/", "/cancelled-invitation-wrike/", "/cancelled-invitation-external/", "/cancel-confirmation/", "/ru/price-rva/", "/ru/price-rvb/" ];
    -1 === i.indexOf(window.location.pathname) && $("[data-signup-form]").on("submit", function(e) {
        e.preventDefault();
        var n = $(e.target);
        if (!n.attr("submitting")) {
            if (!n.wgInstance().validateForm()) return void n.find(".wg-input").focus();
            var i = n.serializeArray()[0].value;
            t(n), o(n, i);
        }
    });
}(), function() {
    "use strict";
    function t() {
        return "pageParams" in window && pageParams.locale ? pageParams.locale.toUpperCase() : "EN";
    }
    function e() {
        var t = "";
        return navigator.languages ? t = navigator.languages[0] : navigator.language ? t = navigator.language : navigator.userLanguage && (t = navigator.userLanguage), 
        t = t ? t.substr(-2).toUpperCase() : "EN";
    }
    function n() {
        var n = t(), o = e();
        return n === o;
    }
    function o() {
        var t = e(), n = [ "EN", "ES", "DE", "IT", "FR", "RU" ];
        return n.some(function(e) {
            return e == t;
        });
    }
    function i() {
        var t = e(), n = [ "AD", "AL", "AT", "AX", "BA", "BE", "BG", "BY", "CH", "CZ", "DE", "DK", "EE", "ES", "FI", "FO", "FR", "GB", "GG", "GI", "GR", "HR", "HU", "IE", "IM", "IS", "IT", "JE", "LI", "LT", "LU", "LV", "MC", "MD", "ME", "MK", "MT", "NL", "NO", "PL", "PT", "RO", "RS", "RU", "SE", "SI", "SJ", "SK", "SM", "UA", "VA" ];
        return n.some(function(e) {
            return e == t;
        });
    }
    function a(t) {
        var e = $(".switch-language"), n = e.find(".switch-language__goto"), o = e.find(".switch-language__text"), i = e.find(".switch-language__yes"), a = e.find(".switch-language__no");
        location.pathname !== window.strings[t].url && (n.addClass("switch-language__goto--opened"), 
        o.html(window.strings[t]["goto"]), i.html(window.strings[t].yes), i.attr("href", window.strings[t].url), 
        a.html(window.strings[t].no), s(), a.on("click", c));
    }
    function r(t) {
        var e = $(".switch-language"), n = e.find(".switch-language__cookie");
        n.addClass("switch-language__cookie--opened"), n.html(window.strings[t].cookie), 
        s();
    }
    function s() {
        var t = $(".switch-language"), e = t.find(".switch-language__close");
        0 == p && (t.show(), e.on("click", c), p = !0);
    }
    function c(t) {
        t.preventDefault();
        var e = $(".switch-language"), n = e.find(".switch-language__no"), o = e.find(".switch-language__close");
        e.hide(), n.off("click", c), o.off("click", c), l();
    }
    function l() {
        var t = new Date(), e = new Date(t.getTime() + 321408e5);
        WG.utils.setCookie("topPanelHidden", "true", {
            expires: e,
            path: "/"
        });
    }
    function u() {
        return WG.utils.getCookie("topPanelHidden");
    }
    function d() {
        var t = e() || "EN";
        u() || (n() ? i() && r(t) : o() ? (i() && r(t), a(t)) : i() && r("EN"));
    }
    var p = !1;
    d();
}(), function(t) {
    function e() {
        this.options = {
            triggerSelector: ".subscribe-popup",
            contentSelector: ".content",
            countdown: 2,
            cta: "",
            scroll: 50,
            showModal: null,
            modalTitleSelector: "",
            ctaStrings: []
        }, this.attributes = [ "cta", "countdown", "scroll" ], this.isFired = !1, this.isShown = !1;
    }
    function n(t, e) {
        return e = e || t, Math.floor(Math.random() * (e - t + 1)) + t;
    }
    e.prototype.init = function(t) {
        return $.extend(this.options, t), this.$triggerElement = $(this.options.triggerSelector).eq(0), 
        this.$contentElement = $(this.options.contentSelector).eq(0), this.$modalTitleElement = $(this.options.modalTitleSelector).eq(0), 
        this.$triggerElement.length && this.$contentElement.length && this.options.showModal ? (this.parseDataAttributes(), 
        this.options.cta || this.generateCTA(), this.scrollReachedThreshold() ? !1 : (this.handleScrolling(), 
        this.handleResize(), this.handleUserEscape(), !0)) : !1;
    }, e.prototype.parseDataAttributes = function() {
        for (var t in this.attributes) {
            var e = this.$triggerElement.data(this.attributes[t]);
            (e || 0 === e) && (this.options[this.attributes[t]] = e);
        }
    }, e.prototype.calcContentOffsetTop = function() {
        return this.$contentElement.offset().top;
    }, e.prototype.calcContentHeight = function() {
        return this.$contentElement.height();
    }, e.prototype.getContentOffsetTop = function() {
        return "undefined" == typeof this.contentOffsetTop && (this.contentOffsetTop = this.calcContentOffsetTop()), 
        this.contentOffsetTop;
    }, e.prototype.getContentHeight = function() {
        return "undefined" == typeof this.contentHeight && (this.contentHeight = this.calcContentHeight()), 
        this.contentHeight;
    }, e.prototype.handleScrolling = function() {
        t.on("scroll", $.throttle(250, this.show.bind(this)));
    }, e.prototype.scrollReachedThreshold = function() {
        var e = parseFloat(this.getContentOffsetTop()), n = this.getContentHeight(), o = 100 / parseInt(this.options.scroll), i = document.documentElement.clientHeight - e;
        isFinite(o) || (o = n);
        var a = Math.floor(parseFloat(n / o) + e + i);
        return a -= document.documentElement.clientHeight, t.scrollTop() >= a;
    }, e.prototype.handleResize = function() {
        function e() {
            this.contentOffsetTop = this.calcContentOffsetTop(), this.contentHeight = this.calcContentHeight();
        }
        t.on("resize", $.throttle(250, e.bind(this)));
    }, e.prototype.generateCTA = function() {
        this.options.ctaStrings.length > 0 && (this.options.cta = this.options.ctaStrings[n(0, this.options.ctaStrings.length)]);
    }, e.prototype.updatePopupTitle = function() {
        this.$modalTitleElement && this.options.cta && this.$modalTitleElement.text(this.options.cta);
    }, e.prototype.show = function() {
        this.isFired || this.isShown || this.scrollReachedThreshold() && (this.isFired = !0, 
        setTimeout(function(t) {
            t.updatePopupTitle(), t.options.showModal(), t.isShown = !0;
        }, 1e3 * parseInt(this.options.countdown), this));
    }, e.prototype.showImmediately = function() {
        this.isFired || this.isShown || (this.isFired = !0, this.isShown = !0, this.updatePopupTitle(), 
        this.options.showModal());
    }, e.prototype.handleUserEscape = function() {
        function t() {
            document.documentElement.addEventListener("mouseleave", e), document.documentElement.addEventListener("mouseenter", n), 
            document.documentElement.addEventListener("keydown", o);
        }
        function e(t) {
            t.clientY > r || (c = setTimeout(i, s));
        }
        function n() {
            c && (clearTimeout(c), c = null);
        }
        function o(t) {
            l || t.metaKey && 76 === t.keyCode && (l = !0, c = setTimeout(i, s));
        }
        function i() {
            a.showImmediately(), document.documentElement.removeEventListener("mouseleave", e), 
            document.documentElement.removeEventListener("mouseenter", n), document.documentElement.removeEventListener("keydown", o);
        }
        var a = this, r = 20, s = 0, c = null;
        setTimeout(t, 1e3);
        var l = !1;
    }, window.ExitPopup = e;
}($(window)), function(t, e, n, o) {
    function i() {
        c(), l(), d();
    }
    function a() {
        return 1 == e.utils.getCookie("lg");
    }
    function r(t) {
        t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var e = new RegExp("[\\?&]" + t + "=([^&#]*)"), n = e.exec(location.search);
        return null === n ? "" : decodeURIComponent(n[1].replace(/\+/g, " "));
    }
    function s() {
        var t = new Date();
        return t.setTime(t.getTime() + 2592e5), t.toGMTString();
    }
    function c() {
        e.utils.getCookie(p) || e.utils.setCookie(p, "unknown", {
            path: "/"
        }), r("utm_subscribed").length && e.utils.setCookie(p, "subscribed", {
            path: "/"
        }), r("utm_unsubscribed").length && e.utils.setCookie(p, "unsubscribed", {
            path: "/"
        }), window.location.search.indexOf("email_cnl=true") > -1 && e.utils.setCookie(p, "muted", {
            expires: s(),
            path: "/"
        });
    }
    function l() {
        window.location.search.indexOf("email_confirmation=true") > -1 && ("muted" === e.utils.getCookie("blog_exit_popup") ? e.utils.setCookie("blog_exit_popup", "subscribed", {
            path: "/"
        }) : (h.on("show.wg.modal", function() {
            e.utils.setCookie("blog_exit_popup", "subscribed", {
                path: "/"
            });
        }), h.wgInstance().show(), setTimeout(function() {
            h.wgInstance().hide();
        }, 4e3))), h.on("hide.wg.modal", function() {
            var t = e.utils.getCookie(p);
            "subscribed" !== t && "ignored" !== t && e.utils.setCookie(p, "ignored", {
                expires: s(),
                path: "/"
            });
        });
    }
    function u() {
    	//t.getScript("//app-ab04.marketo.com/js/forms2/js/forms2.min.js", function() {
        t.getScript("", function() {
            MktoForms2.loadForm("//app-ab04.marketo.com", "405-WQD-629", f), MktoForms2.whenReady(function(t) {
                window.mktoFormGlobal = t, t.getFormElem().find("#Email").attr("placeholder", window.mkto_form_localization.email_placeholder).focus(function() {
                    setTimeout(function() {
                        t.getFormElem().find(".mktoErrorMsg").html(window.mkto_form_localization.error_message), 
                        t.setValues({
                            v6websitesubscription: window.mkto_form_localization.lang_field_val
                        });
                    }, 10);
                }), t.setValues({
                    v6websitesubscription: window.mkto_form_localization.lang_field_val
                }), t.getFormElem().find("button").html(window.mkto_form_localization.subscribe_button), 
                t.getFormElem().find(".mkto_form_preloader").remove(), t.onValidate(function(e) {
                    e || setTimeout(function() {
                        t.getFormElem().find(".mktoErrorMsg").html(window.mkto_form_localization.error_message);
                    }, 10);
                }), t.onSuccess(function() {
                    return h.addClass("modal-exit-popup--success"), h.find(".modal-exit-popup__title").html(window.mkto_form_localization.subscribe_ty_heading), 
                    h.find(".modal-exit-popup__subtitle").html(window.mkto_form_localization.subscribe_ty_text), 
                    t.getFormElem().remove(), setTimeout(function() {
                        h.wgInstance().hide();
                    }, 2e4), "subscribed" !== status && e.utils.setCookie(p, "subscribed", {
                        path: "/"
                    }), !1;
                });
            });
        });
    }
    function d() {
        var t = e.utils.getCookie(p);
        if ("muted" === t && (e.utils.setCookie(p, "subscribed", {
            path: "/"
        }), t = "subscribed"), "subscribed" !== t && "ignored" !== t) {
            u();
            var o = new n();
            o.init({
                contentSelector: ".main",
                triggerSelector: ".subscribe-popup",
                showModal: function() {
                    h.wgInstance().show();
                }
            });
        }
    }
    var p = "v6_exit_popup", f = window.mkto_form_localization.form_id, h = t("#modal-exit-popup");
    !a() && t(i);
}($, window.WG, ExitPopup, window.wrike), $(function() {
    function t(t) {
        t.attr("submitting", !0), t.find(".wg-input")[0].disabled = "disabled", t.find(".wg-btn").wgInstance().loading();
    }
    function e(t) {
        t.find(".wg-input").removeAttr("disabled"), t.find(".wg-btn").wgInstance().reset(), 
        t.removeAttr("submitting");
    }
    function n(t, n) {
        var o = $("body"), i = "https://" + window.location.host + window.location.pathname + "#" + t.data("hash"), a = "en" === window.pageParams.locale ? "" : "/" + window.pageParams.locale, r = {
            email: n,
            license_id: 49,
            agreement: !0,
            short_form: !0,
            external: !0,
            locale: window.pageParams.locale,
            isAjax: !0,
            email_only_form: !0,
            source_url: i
        }, s = $("<form/>", {
            action: "https://" + window.location.host + a + "/resend/",
            method: "post",
            style: "display: none"
        });
        $.ajax({
            type: "POST",
            url: "https://" + window.location.host + "/registration.htm",
            data: r,
            dataType: "JSON"
        }).success(function(t) {
            t.OK ? $.each(r, function(t, e) {
                s.append('<input type="hidden" name="' + t + '" value="' + e + '" />');
            }) : s.append('<input type="text" name="login_email" value="' + n + '">'), o.append(s), 
            s.trigger("submit");
        }).error(function() {
            e(t), alert("Form does not work, please report support@team.GlobalTradenet.com");
        });
    }
    function o() {
        $(".wg-header__free-trial-form").on("submit", function(e) {
            e.preventDefault();
            var o = $(e.target);
            if (!o.attr("submitting")) {
                if (!o.wgInstance().validateForm()) return void o.find(".wg-input").focus();
                var i = o.serializeArray()[0].value;
                t(o), n(o, i);
            }
        }), $(".wg-header__desktop .wg-header__free-trial-button").on("click", function(t) {
            $(".wg-header").hasClass("wg-header--fixed") || (t.stopPropagation(), t.preventDefault(), 
            $(".modal-form-trial.wg-modal--pro").wgInstance().show());
        }), $(".wg-header__mobile .wg-header__free-trial-button").on("click", function(t) {
            (document.documentElement.clientWidth < 568 || !$(".wg-header").hasClass("wg-header--fixed") && document.documentElement.clientWidth >= 568) && (t.stopPropagation(), 
            t.preventDefault(), $(".modal-form-trial.wg-modal--pro").wgInstance().show());
        });
    }
    function i() {
        var t = location.hash.replace(/^#/, "");
        if (t) {
            var e = $(".wg-modal").filter('[data-hash="' + t + '"]').eq(0);
            e.length && e.on("ready.wg.modal", function() {
                $(this).wgInstance().show();
            });
        }
    }
    function a() {
        var t = $(".wg-modal").not(".wg-modal--no-autofocus");
        t.on("show.wg.modal", function() {
            setTimeout(function(t) {
                $(t).find(".wg-input, .wg-select").not(".wg-input--invalid,.wg-select--invalid").eq(0).trigger("focus");
            }, 1, this);
        });
    }
    var r = function(t) {
        t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var e = new RegExp("[\\?&]" + t + "=([^&#]*)"), n = e.exec(location.search);
        return null === n ? "" : decodeURIComponent(n[1].replace(/\+/g, " "));
    }, s = new Date();
    s.setTime(s.getTime() + 26784e5), s = s.toGMTString();
    var c = function() {
        var t = /[^\w]/g, e = r("r").replace(t, ""), n = r("s").replace(t, "");
        e.length && WG.utils.setCookie("partner_referral_code", e, {
            expires: s,
            path: "/"
        }), n.length && WG.utils.setCookie("sales_referrer_name", n, {
            expires: s,
            path: "/"
        });
    };
    "pageParams" in window && WG.utils.setCookie("wrikeLocale", window.pageParams.locale || "en", {
        expires: s,
        path: "/"
    }), c(), o(), i(), a();
});